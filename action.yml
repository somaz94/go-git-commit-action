name: 'Go Git Commit Action'
description: 'Automatically commit and push changes using Go'
author: 'somaz'

inputs:
  user_email:
    description: 'Git user email'
    required: true
  user_name:
    description: 'Git user name'
    required: true
  commit_message:
    description: 'Commit message'
    required: false    # default 값이 있으므로 false로 변경
    default: 'Auto commit by Go Git Commit Action'
  branch:
    description: 'Branch to push to'
    required: false    # default 값이 있으므로 false로 변경
    default: 'main'
  repository_path:
    description: 'Path to the repository'
    required: false
    default: '.'
  file_pattern:
    description: 'File pattern to add'
    required: false    # default 값이 있으므로 false로 변경
    default: '.'
  tag_name:
    description: 'Tag name to create or delete'
    required: false
    default: ''
  tag_message:
    description: 'Tag message (for annotated tags)'
    required: false
    default: ''
  delete_tag:
    description: 'Whether to delete the tag (true/false)'
    required: false
    default: 'false'

runs:
  using: 'docker'
  image: 'Dockerfile'
  env:
    USER_EMAIL: ${{ inputs.user_email }}
    USER_NAME: ${{ inputs.user_name }}
    COMMIT_MESSAGE: ${{ inputs.commit_message }}
    BRANCH: ${{ inputs.branch }}
    REPOSITORY_PATH: ${{ inputs.repository_path }}
    FILE_PATTERN: ${{ inputs.file_pattern }}
    TAG_NAME: ${{ inputs.tag_name }}
    TAG_MESSAGE: ${{ inputs.tag_message }}
    DELETE_TAG: ${{ inputs.delete_tag }}

branding:
  icon: 'git-commit'
  color: 'blue'
